<div class="row">
    <div class="col s12 center">
        <h6 class="required-label">All fields must be completed before you submit this form</h6>
    </div>
</div>

<div id="add-edit" class="row">
    <div class="col s12 xl10 offset-xl1">
        <div class="center">
            <h5>General Information</h5>
        </div>
    </div>
    <div class="row center-align">
        <div class="col s12 center">
            <!-- Recipe Name-->
            <div class="col s12 l8">
                <div class="input-field">
                    <input id="recipe_name" name="recipe_name" type="text" class="validate" minlength="5" maxlength="25"
                        value="{{ recipe.recipe_name}}">
                    <label for="recipe_name">Recipe Name</label>
                </div>
            </div>
            <!--Category-->
            <div class="col s12 l4">
                <div class="input-field">
                    <select id="category_name" name="category_name" class="validate" required>
                        <option value="" disabled selected>Category</option>
                        {% for category in categories %}
                        {% if category.category_name == recipe.category_name %}
                        <option value="{{ category.category_name}}" selected> {{ category.category_name }}</option>
                        {% else %}
                        <option value="{{ category.category_name}}"> {{ category.category_name }}</option>
                        {% endif %}
                        {% endfor %}
                    </select>
                    <label for="category_name">Category</label>
                </div>
            </div>
        </div>
    </div>
    <div class="row center-align">
        <div class="col s12 center-align">
            <!-- Recipe image -->
            <div class="col s12 l8">
                <div class="input-field">
                    <input id="image_url" name="image_url" type="url" class="validate" pattern="https?://.+"
                        minlength="12" required value="{{ recipe.image_url }}">
                    <label for="image_url">Image Url</label>
                </div>
            </div>
        </div>
    </div>
    <!--Instructions-->
    <div class="row center-align">
        <div class="col s12 center">
            <div class="col s12 l8" id="addInstruction">
                {% for instruction in recipe.recipe_instructions %}
                <div class="input-field">
                    <label for="recipe_instructions">Instructions</label>
                    <input type="text" name="recipe_instructions" required class="validate" value="{{ instruction }}">
                    <a href="#" role="button" id="add-dir-btn"><i class="fas fa-plus right"></i></a>
                    {% if loop.index != 1 %}
                    <button class="btn-remove right" type="button"><i class="fas fa-trash-alt"></i></button>
                    {% endif %}
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
    <!--Ingredients-->
    <div class="row center-align">
        <div class="col s12 center">
            <div class="col s12 l8" id="addIngredient">
                {% for ingredient in recipe.ingredients %}
                <div class="input-field">
                    <label for="ingredients">
                        Ingredients
                    </label>
                    <input type="text" name="ingredients" required class="validate" value="{{ ingredient }}">
                    <a href="#" role="button" id="add-ingr-btn"><i class="fas fa-plus right"></i></a>
                    {% if loop.index != 1 %}
                    <button class="btn-remove right" type="button"><i class="fas fa-trash-alt"></i></button>
                    {% endif %}
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
    <div class="row center-align">
        <div class="col s12 center">
            <!-- Add a small description for the dish -->
            <div class="col s12 l8">
                <div class="input-field">
                    <textarea id="description" name="description" class="materialize-textarea validate" required
                        minlength="5" maxlength="50">{{- recipe.description -}}</textarea>
                    <label for="description">
                        Description
                    </label>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="col s12 center">
    <!--Submit & Cancel Buttons-->
    <div class="center row">
        <button class="btn btn--black" type="submit">Edit Recipe</button>
        <a class="btn btn--white" href="{{ url_for('get_categories')}}">Cancel</a>
    </div>
</div>